<div ng-controller="producto">
    <form name="form" novalidate>
        <div class="row">
            <div class="pull-right">
                <a ng-show="producto.edit" ng-click="eliminar()" class="btn btn-danger">Eliminar</a>
                <a ng-click="guardar(form.$invalid)" class="btn btn-success">Guardar</a>
            </div>
        </div>
        <div class="form-group">
            <label>Código</label>
            <input type="text" ng-model="producto.codigo" ng-disabled="producto.edit" class="form-control" name="codigo" required/>
            <p ng-show="form.codigo.$error.required && b" class="text-danger">Es necesario introducir un código para este producto</p>
            <p ng-show="error" class="text-danger">{{error.codigo}}</p>
        </div>
        <div class="form-group">
            <label for="descripcion">Descripción</label>
            <textarea type="text" ng-model="producto.descripcion" class="form-control" id="descripcion" required></textarea>
        </div>
        <div class="form-group">
            <label for="unidad">Unidad de medida</label>
            <input type="text" ng-model="producto.unidad" class="form-control" id="unidad"/>
        </div>
        <div class="form-group">
            <label for="precio">Precio</label>
            <input type="text" ng-model="producto.precio" class="form-control" id="precio" onkeypress="return justNumbers(event)" required/>
        </div>
        <div class="form-group">
            <label>Tasa IVA</label>
            <ui-select ng-model="producto.iva" theme="bootstrap" name="tipo" required>
                <ui-select-match placeholder="Seleccione una tasa">{{$select.selected.label}}</ui-select-match>
                <ui-select-choices repeat="iva in ivas | filter: $select.search">
                    <span ng-bind-html="iva.label | highlight: $select.search"></span>
                </ui-select-choices>
            </ui-select>
        </div>
        <div class="form-group">
            <label for="ieps">Tasa IEPS</label>
            <input type="text" ng-model="producto.ieps" class="form-control" onkeypress="return justNumbers(event)" id="ieps"/>
        </div>
    </form>
</div>